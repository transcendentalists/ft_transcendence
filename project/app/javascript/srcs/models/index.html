<html>
  <style>
    body {
      background-image: url("../../../assets/images/game_index.jpg");
      display: flex;
      justify-content: center;
      align-items: center;
    }
  </style>
  <body>
    <canvas id="game-canvas" width="900" height="400"> </canvas>
  </body>

  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
    integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=="
    crossorigin="anonymous"
  ></script>
  <script>
    function drawText(ctx, text, x, y, font, color) {
      ctx.fillStyle = color;
      ctx.font = font;
      ctx.fillText(text, x, y);
    }

    function drawMap(ctx, x, y, w, h, start_color, end_color) {
      let my_gradient = ctx.createLinearGradient(x, y, w, h);
      my_gradient.addColorStop(0, start_color);
      my_gradient.addColorStop(1, end_color);
      ctx.fillStyle = my_gradient;
      ctx.fillRect(x, y, w, h);
    }

    function drawRect(ctx, x, y, w, h, color) {
      ctx.fillStyle = color;
      ctx.fillRect(x, y, w, h);
    }

    function drawCircle(ctx, x, y, r, color, opacity = 1) {
      if (color == "BLACK") color = "rgba(0,0,0," + opacity;
      else if (color == "WHITE") color = "rgba(255,255,255," + opacity;
      else color = "rgba(" + color + "," + opacity + ")";
      ctx.fillStyle = color;
      ctx.beginPath();
      ctx.arc(x, y, r, 0, Math.PI * 2, false);
      ctx.fill();
    }

    window.colorArray = [
      ["#F8D90F", "#FF7B89"],
      ["#F8D90F", "#86E3CE"],
      ["#F8D90F", "#FFCF1B"],
      ["#F8D90F", "#D0E6A5"],
      ["#F8D90F", "#FA8978"],
      ["#F8D90F", "#E2B0FF"],
      ["#F8D90F", "#90F7EC"],
      ["#F8D90F", "#F6EA41"],
      ["#F8D90F", "#E06C78"],
    ];
    window.TextArray = [
      // "45px Arial",
      // "45px Candara",
      // "45px Geneva",
      // "45px Calibri",
      // "45px Monaco",
      // "45px Didot",
      "60px Brush Script MT",
      "45px Lucida Bright",
      "45px Copperplate",
      "45px Dishonorable Mention",
      "45px Comic Sans",
    ];
    window.colorIndex = 0;

    function checkKey(e) {
      e = e || window.event;
      if (e.keyCode == 38) {
        window.colorIndex += 1;
        if (window.colorIndex == window.TextArray.length) window.colorIndex = 0;
      } else if (e.keyCode == 40) {
        window.colorIndex -= 1;
        if (window.colorIndex == -1)
          window.colorIndex = window.TextArray.length - 1;
      }
      draw();
    }

    document.onkeydown = this.checkKey.bind(this);

    window.cvs = document.getElementById("game-canvas");
    window.ctx = this.cvs.getContext("2d");

    function draw() {
      drawMap(ctx, 0, 0, cvs.width, cvs.height, "#F8D90F", "#FF7B89");
      for (let i = 0; i <= cvs.height; i += 15) {
        drawRect(ctx, cvs.width / 2 - 1, 0 + i, 2, 10, "WHITE");
      }
      drawCircle(ctx, 350, 250, 8, "WHITE", "1"); // draw com paddle
      drawRect(ctx, cvs.width - 10, cvs.height / 2 - 100 / 2, 10, 100, "WHITE");
      drawRect(ctx, 0, cvs.height / 2 - 100 / 2, 10, 100, "WHITE");
      drawText(
        ctx,
        1,
        cvs.width / 4,
        cvs.height / 5,
        TextArray[colorIndex],
        "WHITE"
      ); // draw left score
      drawText(
        this.ctx,
        2,
        (3 * cvs.width) / 4,
        cvs.height / 5,
        TextArray[colorIndex],
        "WHITE"
      ); //
    }

    draw();
  </script>
</html>
