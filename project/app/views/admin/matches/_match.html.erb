<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js" integrity="sha512-dqw6X88iGgZlTsONxZK9ePmJEFrmHwpuMrsUChjAw1mRUhUITE5QU9pkcSox+ynfLhL15Sv2al5A0LVyDCmtUw==" crossorigin="anonymous"></script>

<div class="ui card">
  <div class="content">
    <div class="header"><%= match.match_type %> (<%= match.status %>) </div>
  </div>
  <div class="content">
    <h4 class="ui sub header">Rule: <%= match.rule.name %></h4>
    <div class="ui small feed">
      <div class="event">
        <div class="content">
          <div class="summary">
            <div>StartTime: <%= if match.start_time then match.start_time else "Not started" end %></div>
            <% if match.eventable_id %>
              <div>Eventable Type: <%= match.eventable_type %></div>
              <div>Eventable Id: <%= match.eventable_id %></div>
            <% end %>
            <div>Target Score: <%= match.target_score %></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<% if match.status == "completed" %>
  <div class="ui card">
    <div class="content">
      <div class="header">match #<%= match.scorecards[0].user.name %> </div>
    </div>
    <div class="content">
      <div class="ui small feed">
        <div class="event">
          <div class="content">
            <div class="summary">
              <div>Score: <%= match.scorecards[0].score %></div>
              <div>Result: <%= match.scorecards[0].result %></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="ui card">
    <div class="content">
      <div class="header">match #<%= match.scorecards[1].user.name %> </div>
    </div>
    <div class="content">
      <div class="ui small feed">
        <div class="event"></div>
          <div class="content">
            <div class="summary">
              <div>Score: <%= match.scorecards[1].score %></div>
              <div>Result: <%= match.scorecards[1].result %></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>
